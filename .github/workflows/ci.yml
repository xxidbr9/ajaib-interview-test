# yaml-language-server: $schema=https://json-schema.org/draft-07/schema#
name: Testing in Pull Request
on:
  push:
    branches:
    - development
    - master
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Code 🛎️
        uses: actions/checkout@v3
        with:
          persist-credentials: false 

      - name: Run Jest tests 🧪
        run: yarn test --coverage

      - name: Comment Test Coverage 💬
        uses: AthleticNet/comment-test-coverage@1.1
        with:
          token: ${{ secrets.ACCESS_TOKEN }}
          path: coverage/coverage-final.json
          title: Jest Test Coverage